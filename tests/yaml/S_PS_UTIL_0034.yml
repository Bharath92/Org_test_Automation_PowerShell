pipelines:
  - name: pipeline_S_PS_UTIL_0034
    steps:
      - name: S_PS_UTIL_0034
        type: PowerShell
        configuration:
          nodePool: win_2019
          environmentVariables:
            foo: "bar"

        execution:
          onExecute:
            - add_run_variables "scm=gitRepo" 'runVariable1="A string with spaces."' runVariable2='A string with $.'

      - name: S_PS_UTIL_0034_2
        type: PowerShell
        configuration:
          nodePool: win_2019
        execution:
          onExecute:
            - Write-Host $scm $runVariable1 $runVariable2
            - if($scm -ne "gitRepo"){
              Write-Error "Stop" -ErrorAction Stop
              }
            - if($runVariable1 -ne "A string with spaces."){
              Write-Error "Stop" -ErrorAction Stop
              }
            - if($runVariable2 -ne "A string with $."){
              Write-Error "Stop" -ErrorAction Stop
              }

      - name: S_PS_UTIL_0034_3
        type: PowerShell
        configuration:
          nodePool: win_2019
        execution:
          onExecute:
            - Write-Host $scm 
            - Write-Host $runVariable1 
            - Write-Host $runVariable2
            - if($scm -ne "gitRepo"){
              Write-Error "Stop" -ErrorAction Stop
              }
            - if($runVariable1 -ne "A string with spaces."){
              Write-Error "Stop" -ErrorAction Stop
              }
            - if($runVariable2 -ne "A string with $."){
              Write-Error "Stop" -ErrorAction Stop
              }
